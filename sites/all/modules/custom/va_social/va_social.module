<?php
/**
 * @file
 * Code for the VA Banner feature.
 */


function  va_social_block_info() {
  // This hook returns an array, each component of which is an array of block
  // information. The array keys are the 'delta' values used in other block
  // hooks.

  // The required block information is a block description, which is shown
  // to the site administrator in the list of possible blocks. You can also
  // provide initial settings for block weight, status, etc.



$blocks['social_icons'] = array(
    // info: The name of the block.
    'info' => t('Social Icons Primary'),
    // Block caching options (per role, per user, etc.)
    'cache' => DRUPAL_CACHE_PER_ROLE, // default
  );


$blocks['social_icons_2'] = array(
    // info: The name of the block.
    'info' => t('Social Icons Secondary'),
    // Block caching options (per role, per user, etc.)
    'cache' => DRUPAL_CACHE_PER_ROLE, // default
  );



 return $blocks;
}


function  va_social_block_view($delta = '') {
  //The $delta parameter tells us which block is being requested.

 switch ($delta) {

  case 'social_icons':
      // The subject is displayed at the top of the block. Note that it
      // should be passed through t() for translation. The title configured
      // for the block using Drupal UI supercedes this one.
      $block['subject'] = t('Social Icons');
      // The content of the block is typically generated by calling a custom
      // function.
      $block['content'] = social_icons();
      break;

  case 'social_icons_2':
      // The subject is displayed at the top of the block. Note that it
      // should be passed through t() for translation. The title configured
      // for the block using Drupal UI supercedes this one.
      $block['subject'] = t('Social Icons');
      // The content of the block is typically generated by calling a custom
      // function.
      $block['content'] = social_icons();
      break;

  }
  return $block;
}

function  va_social_block_save($delta = '', $edit = array()) {

  if ($delta == 'fb_iframe') {
    variable_set('fb_url', $edit['fb_url']);
  variable_set('fb_id', $edit['fb_id']);
  variable_set('fb_width', $edit['fb_width']);
  variable_set('fb_height', $edit['fb_height']);
  variable_set('fb_border', $edit['fb_border']);
  variable_set('fb_faces', $edit['fb_faces']);
  variable_set('fb_stream', $edit['fb_stream']);
  variable_set('fb_scheme', $edit['fb_scheme']);
  variable_set('fb_header', $edit['fb_header']);
  }
elseif($delta == 'fb_like_box') {
    variable_set('fb_like_box_url', $edit['fb_like_box_url']);
  }
elseif($delta == 'social_icons') {
    variable_set('fb_url', $edit['fb_url']);
  variable_set('twitter_url', $edit['twitter_url']);
  variable_set('rss_url', $edit['rss_url']);
  variable_set('youtube_url', $edit['youtube_url']);
  variable_set('vimeo_url', $edit['vimeo_url']);
  variable_set('linkedin_url', $edit['linkedin_url']);
  variable_set('instagram_url', $edit['instagram_url']);
  variable_set('pinterest_url', $edit['pinterest_url']);

  variable_set('trip_advisor_url', $edit['trip_advisor_url']);
  variable_set('foursquare_url', $edit['foursquare_url']);
  variable_set('google_plus_url', $edit['google_plus_url']);
  variable_set('true_local_url', $edit['true_local_url']);


  }
elseif($delta == 'mailchimp_link') {
      variable_set('mailchimp_url', $edit['mailchimp_url']);
    variable_set('mailchimp_text', $edit['mailchimp_text']);
   }


}

function  va_social_block_configure($delta = '') {

  $form = array();


   $form['fb_url'] = array(
      '#type' => 'textfield',
      '#title' => t('URL of your Facebook page'),
      '#default_value' => variable_get('fb_url', 'http://www.thevariousartists.com.au'),
     );
   $form['twitter_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Twitter Account'),
        '#default_value' => variable_get('twitter_url', 'http://www.thevariousartists.com.au'),
    );
  $form['rss_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your RSS Feed'),
        '#default_value' => variable_get('rss_url', 'http://www.thevariousartists.com.au'),
    );
  $form['youtube_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Youtube Channel'),
        '#default_value' => variable_get('youtube_url', 'http://www.thevariousartists.com.au'),
    );
  $form['vimeo_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Vimeo Channel'),
        '#default_value' => variable_get('vimeo_url', 'http://www.thevariousartists.com.au'),
    );

  $form['linkedin_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your LinkedIn Profile'),
        '#default_value' => variable_get('linkedin_url', 'http://www.thevariousartists.com.au'),
    );

  $form['instagram_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Instagram Profile'),
        '#default_value' => variable_get('instagram_url', 'http://www.thevariousartists.com.au'),
    );

  $form['pinterest_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Pinterest'),
        '#default_value' => variable_get('pinterest_url', 'http://www.thevariousartists.com.au'),
    );

  $form['trip_advisor_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Trip advisor Page'),
        '#default_value' => variable_get('trip_advisor_url', 'http://www.thevariousartists.com.au'),
    );

  $form['foursquare_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Four Square Page'),
        '#default_value' => variable_get('foursquare_url', 'http://www.thevariousartists.com.au'),
    );
  $form['google_plus_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your Google Plus'),
        '#default_value' => variable_get('google_plus_url', 'http://www.thevariousartists.com.au'),
    );
  $form['true_local_url'] = array(
        '#type' => 'textfield',
        '#title' => t('URL of your True Local'),
        '#default_value' => variable_get('true_local_url', 'http://www.thevariousartists.com.au'),
    );




  return $form;
}



function social_icons(){
  //drupal_add_css(drupal_get_path('module', 'va_social') .'/css/va_social_icons.css');
  //$path = base_path() . path_to_theme()  .'/images/icons/';

  $var =  '<div class="socialmedia">';
  $var .= '<ul>';
  if(variable_get('fb_url')!=""){
    $var .= '<li class="facebook"><a target="_blank" href="'.variable_get('fb_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }
  if(variable_get('instagram_url')!=""){
    $var .= '<li class="instagram"><a  target="_blank" href="'.variable_get('instagram_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('twitter_url')!=""){
    $var .= '<li class="twitter"><a  target="_blank" href="'.variable_get('twitter_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('rss_url')!=""){
    $var .= '<li class="rss"><a  target="_blank" href="'.variable_get('rss_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('vimeo_url')!=""){
    $var .= '<li class="vimeo"><a  target="_blank" href="'.variable_get('vimeo_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('linkedin_url')!=""){
    $var .= '<li class="linkedin"><a  target="_blank" href="'.variable_get('linkedin_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('youtube_url')!=""){
    $var .= '<li class="youtube"><a  target="_blank" href="'.variable_get('youtube_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }


  if(variable_get('pinterest_url')!=""){
    $var .= '<li class="pinterest"><a  target="_blank" href="'.variable_get('pinterest_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('trip_advisor_url')!=""){
    $var .= '<li class="tripadvisor"><a  target="_blank" href="'.variable_get('trip_advisor_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }

  if(variable_get('foursquare_url')!=""){
    $var .= '<li class="foursquare"><a  target="_blank" href="'.variable_get('foursquare_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }
  if(variable_get('google_plus_url')!=""){
    $var .= '<li class="googleplus"><a  target="_blank" href="'.variable_get('google_plus_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }
  if(variable_get('true_local_url')!=""){
    $var .= '<li class="truelocal"><a  target="_blank" href="'.variable_get('true_local_url', 'http://www.thevariousartists.com.au').'"></a></li>';
  }


  $var .= '</ul>';
  $var .= '</div>';

  return $var;

}





